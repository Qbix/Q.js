(function(a,c){"object"===typeof module&&module.exports?module.exports=c():"function"===typeof define&&define.amd?define([],c):a.Handlebars=c()})("undefined"!==typeof self?self:this,function(){function a(b){this.string=String(b)}function c(b,k){for(var a in k)Object.prototype.hasOwnProperty.call(k,a)&&(b[a]=k[a]);return b}function e(b){var k={};b&&"object"===typeof b&&c(k,b);return k}function l(b){return null==b?"":b instanceof a?b.toString():String(b).replace(/[&<>"']/g,function(b){return{"&":"&amp;",
"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"}[b]})}function m(b,a){if(null!=b){if(!a)return b;a=a.split(".");for(var k=0;k<a.length;k++){var h=a[k];"["===h[0]&&"]"==h[h.length-1]&&(h=h.slice(1,-1));b=null!=b?b[h]:void 0}return b}}function r(b,a,f,h){if("this"===b||"."===b)return a;if("@index"===b)return h&&h["@index"];if("@key"===b)return h&&h["@key"];if(0===b.indexOf("@root."))return m(h.root,b.slice(6));if("@root"===b)return h.root;for(h=0;0===b.indexOf("../");)h++,b=b.slice(3);0<h&&(a=f.length-
1-h,0>a&&(a=0),a=f[a]);return m(a,b)}function p(b){for(var a=[],f="",h=null,c=!1,d=0,g=0;g<b.length;g++){var e=b[g];h?c?(f+=e,c=!1):"\\"===e?(f+=e,c=!0):(f+=e,e===h&&(h=null)):"'"===e||'"'===e?(f+=e,h=e):"("===e?(d++,f+=e):")"===e?(0<d&&d--,f+=e):/\s/.test(e)&&0===d?f&&(a.push(f),f=""):f+=e}f&&a.push(f);return a}function t(b){b=p(b);return b.length?b[0]:""}function u(b,a,f,e){if("("===b[0]&&")"===b[b.length-1]){var k=b.slice(1,-1).trim();b=t(k);return n[b]?(f=x(k.slice(b.length).trim(),a,f,e),n[b].apply(a,
f.args.concat({hash:f.hash,data:e,fn:function(){return""},inverse:function(){return""}}))):u(k,a,f,e)}return"'"===b[0]&&"'"===b[b.length-1]||'"'===b[0]&&'"'===b[b.length-1]?b.slice(1,-1):r(b,a,f,e)}function x(b,a,f,e){b=p(b);for(var k=[],d={},g=0;g<b.length;g++){var h=b[g],c=h.indexOf("=");if(0<c){var l=h.slice(0,c);h=h.slice(c+1);d[l]=u(h,a,f,e)}else k.push(u(h,a,f,e))}return{args:k,hash:d}}function w(b){for(var a=0,f="var out='';var __stack=[ctx];\n",e=b.split(/(\{\{\{\{[\s\S]+?\}\}\}\}|\{\{\{[\s\S]+?\}\}\}|\{\{[\s\S]+?\}\})/),
c=0;c<e.length;c++){var d=e[c];if(d)if(d.startsWith("{{{{raw}}}}")){var g=b.indexOf("{{{{/raw}}}}",b.indexOf(d));d=b.slice(b.indexOf(d)+10,g);f+="out+="+JSON.stringify(d)+";\n";c+=2}else if(d.startsWith("{{{")&&d.endsWith("}}}"))d=d.slice(3,-3).trim(),f+="var v=evalMaybePath("+JSON.stringify(d)+",ctx,__stack,data);out+=(v==null?'':v);\n";else if(d.startsWith("{{")&&d.endsWith("}}")){if(g=d.slice(2,-2).trim(),"!"!==g[0]&&!g.startsWith("--"))if("#"===g[0]){d=g.slice(1).trim();g=t(d);var l=d.slice(g.length).trim();
d=/\s+as\s+\|([^|]+)\|/.exec(l);g=null;d&&(g=d[1].trim().split(/\s+/),l=l.replace(d[0],""));d=++a;f+="var parsed"+d+"=parseArgs("+JSON.stringify(l)+",ctx,__stack,data);";f+="var outerCtx"+d+"=ctx;var opts"+d+"={hash:parsed"+d+".hash,data:data,fn:function(sub,o){var out='';var d=createFrame(data);if(o&&o.data)assign(d,o.data);ctx=sub||outerCtx"+d+";__stack.push(ctx);";if(g)for(d=0;d<g.length;d++)f+="ctx["+JSON.stringify(g[d])+"]=sub;"}else if("else"===g)f+="return out;},inverse:function(sub,o){var out='';ctx=sub||ctx;__stack.push(ctx);\n";
else if("/"===g[0])g=g.slice(1).trim(),d=a,f+="return out;}};var r=(helpers["+JSON.stringify(g)+"]||helpers.blockHelperMissing).apply(ctx,parsed"+d+".args.concat(opts"+d+"));out+=(r||'');ctx=outerCtx"+d+";__stack.pop();\n";else if(g.startsWith("#>"))d=g.slice(2).trim(),f+="if(partials["+JSON.stringify(d)+"])out+=partials["+JSON.stringify(d)+"](ctx,partials,helpers,data,evalMaybePath,parseArgs,escapeExpression,createFrame,assign,firstToken,{fn:function(){return '';}});\n";else if(">"===g[0]){l=g.slice(1).trim();
d=p(l);g=d.shift();l="("===g[0]&&")"===g[g.length-1];var m=d.join(" ");d=++a;f+="var pName"+d+"="+(l?"evalMaybePath("+JSON.stringify(g)+",ctx,__stack,data)":"'"+g+"'")+";";f+="var pArgs=parseArgs("+JSON.stringify(m)+",ctx,__stack,data);";f+="var pCtx=ctx;if(Object.keys(pArgs.hash).length) pCtx=assign({},ctx),assign(pCtx,pArgs.hash);";f+="if(partials[pName"+d+"])out+=partials[pName"+d+"](pCtx,partials,helpers,data,evalMaybePath,parseArgs,escapeExpression,createFrame,assign,firstToken);\n"}else d=t(g),
f+="if(helpers["+JSON.stringify(d)+"]) {var p=parseArgs("+JSON.stringify(g.slice(d.length).trim())+",ctx,__stack,data);var opts={hash:p.hash,data:data,fn:function(){return ''},inverse:function(){return ''}};out+=(helpers["+JSON.stringify(d)+"]||helpers.helperMissing).apply(ctx,p.args.concat(opts))||'';} else {var v=evalMaybePath("+JSON.stringify(g)+",ctx,__stack,data);out+=(v==null?'':escapeExpression(v));}\n"}else f+="out+="+JSON.stringify(d)+";\n"}return new Function("ctx","partials","helpers",
"data","evalMaybePath","parseArgs","escapeExpression","createFrame","assign","firstToken",f+"return out;")}function y(b){return function(a,f){f=f&&f.data||{};void 0===f.root&&(f.root=a);return b(a||{},v,n,f,u,x,l,e,c,t)}}var q=this;a.prototype.toString=function(){return this.string};var n=Object.create(null),v=Object.create(null);n.if=function(b,a){return b?a.fn(q):a.inverse(q)};n.unless=function(b,a){return b?a.inverse(q):a.fn(q)};n.each=function(b,a){if(!b||Array.isArray(b)&&!b.length)return a.inverse(this);
var f="",c;if(Array.isArray(b))for(c=0;c<b.length;c++){var k=e(a.data);k["@index"]=c;k["@first"]=0===c;k["@last"]=c===b.length-1;f+=a.fn(b[c],{data:k})}else{var d=Object.keys(b);for(c=0;c<d.length;c++){var g=d[c];k=e(a.data);k["@key"]=g;k["@index"]=c;k["@first"]=0===c;k["@last"]=c===d.length-1;f+=a.fn(b[g],{data:k})}}return f};n["with"]=function(a,c){return a?c.fn(a):c.inverse(q)};n.log=function(a){console&&console.log&&console.log(a)};n.lookup=function(a,c){return a?a[c]:""};n.helperMissing=function(){return""};
n.blockHelperMissing=function(a,c){return a?c.fn(a):c.inverse(a)};return{compile:function(a,c){return y(w(String(a),c))},registerHelper:function(a,c){if("object"===typeof a)for(var b in a)Object.prototype.hasOwnProperty.call(a,b)&&(n[b]=a[b]);else n[a]=c},registerPartial:function(a,c){if("object"===typeof a)for(var b in a)Object.prototype.hasOwnProperty.call(a,b)&&(v[b]="function"===typeof c?c:w(String(c)));else v[a]="function"===typeof c?c:w(String(c))},helpers:n,partials:v,escapeExpression:l,createFrame:e,
SafeString:a}});